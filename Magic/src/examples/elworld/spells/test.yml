watershieldnathan:
  icon: diamond_pickaxe:35
  icon_disabled: diamond_pickaxe:335
  actions:
    cast:
      - class: Repeat
        repeat: 70
        actions:
          - class: Retarget
            actions:
              - class: Plane
                orient: true
                thickness: 1
                radius: 1.0
                actions:
                  - class: ModifyBlock
          - class: Undo
            undo_to: 16
            undo: 500
          - class: Delay
            delay: 10
  parameters:
    duration: 2000
    undo: 1000
    range: 4
    target: block
    axis: z
    volume_type: yx
    brush: stationary_water
    transparent: transparent
    destructible: destructible_replace
    breakable: 1
  costs:
    mana: 175

follow:
  actions:
    cast:
      - class: CustomProjectile
        tick:
          - class: Orient
  effects:
    projectile:
      - effectlib:
          class: Sphere
          duration: 10 seconds
  parameters:
    lifetime: 10 seconds
    range: 32

superspeed:
  actions:
    cast:
      - class: PotionEffect
  parameters:
    add_effects:
      speed: 10
    duration: 10 seconds
    target: self


phantommob:
  # This refers to an icon defined in the icons folder/config
  icon: mob
  category: dark
  pvp_restricted: true
  worth: 300
  upgrade_required_casts: 50
  upgrade_required_path: master
  actions:
    cast:
      # We are going to force the spawned mob to target the entity we originally targeted
      # This is done by making the current target the source, since the Aggro action makes the target
      # target the source.
      - class: ChangeContext
        source_is_target: true
        actions:
          - class: Repeat
            actions:
              - class: Spread
                actions:
                  - class: SpawnEntity
                    set_target: true
                  - class: Aggro
                  - class: PlayEffects
                    effects: spawned
                  - class: Delay
  effects:
    cast:
      - sound: block_beacon_power_select
        sound_pitch: 0.1
        sound_volume: 0.3
      - location: target
        effectlib:
          class: Modified
          offset: 0,0.2,0
          iterations: 60
          parameters:
            radius: "(t / i) * 16 + 0.1"
          effect:
            class: HelixEffect
            particle: drip_lava
    spawned:
      -  class: EffectSingle
         location: target
         sound: entity_husk_ambient
         sound_pitch: 1.4
         effectlib:
           class: Smoke
           duration: 100
           particle: spell
           particle_count: 5
           particle_offset_x: 0.5
           particle_offset_y: 0.5
           particle_offset_z: 0.5
    undo_entity:
      - location: target
        sound: block_fire_extinguish
        sound_volume: 0.8
        sound_pitch: 0.2
        effectlib:
          class: Smoke
          duration: 500
          particle_count: 5
          particle_offset_x: 0.5
          particle_offset_y: 0.5
          particle_offset_z: 0.5
  parameters:
    allow_replacement: false
    entity_parameters:
      brain:
        goals:
          - type: melee_attack
            priority: 1
          - type: follow_owner
            priority: 2
          - type: random_stroll
            priority: 3
        targets:
          - owner_hurt_target
          - owner_hurt_by_target
          - hurt_by_target
    entity_types:
      phantom: 100
    target_type: LivingEntity
    allow_max_range: false
    range: 32
    cooldown: 50000
    undo: 15000
    repeat: 10
    radius: 16
    delay: 500
  costs:
    mana: 100

combo:
  creator: Finn_Lopes
  creator_id: 72f3caf9-ec75-3590-8307-ffc534409f2e
  name: Combo
  description: Sequence of fast piercings
  icon: chain{18001}
  costs:
    mana: 100
  actions:
    cast:
      - class: Repeat
        actions:
          - class: Parallel
            actions:
              - class: CustomProjectile
                range: 4.5
                speed: 10
                actions:
                  - class: Damage
              - class: PlayEffects
                effect: piercing
              - class: Delay
  effects:
    combo:
      - location: target
        sound: entity_player_attack_sweep
    piercing:
      - location: origin
        sound: entity_player_attack_sweep
        sound_pitch: 2
        effectlib:
          class: Line
          length: 4.5
          iterations: 1
          particle: crit
          particles: 5
  parameters:
    delay: ((-(ENDURANCE) + 97) / 500) seconds
    animation: swing_main_hand
    damage: (FIGHTING) + 5
    range: 4.5
    fov: 45
    allow_max_range: false
    repeat: 5
    no_damage_ticks: 0
    cooldown: 10000

testplaceholders:
  icon: red_dye
  name: Placaeholders
  cast_on_no_target: true
  inherit: false
  actions:
    cast:
      - class: Message
        equation: "%armor_amount_helmet% * 100"
        message: "Dealt: @equation"
        #message_type: "action_bar"
        #message: "&cCritical! &f(&7+&4@equation&f)"
      - class: Damage
  parameters:
    target: other
    range: 32
    target_type: Damageable
    message_target: false
    damage: "%armor_amount_helmet% * 100"


DarkWhisp:
  icon: diamond_axe:52
  icon_disabled: diamond_hoe:52
  upgrade_required_path: master
  upgrade_required_casts: 50
  category: combat
  pvp_restricted: false
  worth: 2000
  earns_sp: 8
  actions:
    cast:
      - class: Command
        command: ubar player:@p msg:"&7&lLost Soul" color:white time:12 style:0 clear:death
        console: true
      - class: CustomProjectile
        actions:
          - class: PotionEffect
            duration: 5000
          - class: Asynchronous
            requires_entity_target: true
            actions:
              - class: Damage
              - class: Retarget
              - class: Repeat
                repeat: 100
              - class: Delay
                delay: 10
  effects:
    cast:
      -  class: EffectSingle
         sound: entity_vex_charge
         sound_volume: 10
         sound_pitch: 0.1
    tick:
      - location: target
        particle: town_aura
        particle_count: 25
        particle_offset_x: 0.01
        particle_offset_y: 0.01
        particle_offset_z: 0.01
      - location: target
        particle: town_aura
        particle_count: 50
        particle_offset_x: 0.075
        particle_offset_y: 0.05
        particle_offset_z: 0.075
      - location: target
        particle: smoke
        particle_count: 50
        particle_offset_x: 0.075
        particle_offset_y: 0.05
        particle_offset_z: 0.075
    hit:
      - location: target
        class: EffectSingle
        particle: town_aura
        particle_count: 10
        particle_offset_y: 0.5
        particle_offset_x: 0.5
        particle_offset_z: 0.5
      -  sound: entity_vex_death
         sound_pitch: 1
         sound_volume: 3
         location: target
         particle: smoke_large
         particle_count: 25
         particle_offset_y: 0.1
         particle_offset_x: 0.1
         particle_offset_z: 0.1
         particle_data: 0.5
    hit_block:
      - location: target
        particle: enchantment_table
        particle_count: 25
        particle_data: 1
        sound: entity_vex_hurt
        sound_volume: 1
  parameters:
    velocity: 10
    range: 40
    target_type: Damageable
    damage: 2
    duration: 2000
    potion_effects:
      wither: 1
      blindness: 1
    track_target: true
    ignore_blocks: true
    entity_hit_count: 10
    lifetime: 7000
    track_speed: 0.4
    effects_particles: false
    target_self_timeout: 2000
    hitbox: false
    hitbox_size: 0.1
    cooldown: 12000